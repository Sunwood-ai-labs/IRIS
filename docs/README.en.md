## IRIS: Intelligent Repository Issue Solver

<p align="center">
<img src="https://huggingface.co/datasets/MakiAi/IconAssets/resolve/main/IRIS.png" width="100%">
<br>
<h1 align="center">IRIS</h1>
<h2 align="center">
  ～ Intelligent Repository Issue Solver ～
<br>

<a href="https://github.com/Sunwood-ai-labs/IRIS" title="Go to GitHub repo"><img src="https://img.shields.io/static/v1?label=IRIS&message=Sunwood-ai-labs&color=blue&logo=github"></a>
<img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/Sunwood-ai-labs/IRIS">
<a href="https://github.com/Sunwood-ai-labs/IRIS"><img alt="forks - Sunwood-ai-labs" src="https://img.shields.io/github/forks/IRIS/Sunwood-ai-labs?style=social"></a>
<a href="https://github.com/Sunwood-ai-labs/IRIS"><img alt="GitHub Last Commit" src="https://img.shields.io/github/last-commit/Sunwood-ai-labs/IRIS"></a>
<a href="https://github.com/Sunwood-ai-labs/IRIS"><img alt="GitHub Top Language" src="https://img.shields.io/github/languages/top/Sunwood-ai-labs/IRIS"></a>
<img alt="GitHub Release" src="https://img.shields.io/github/v/release/Sunwood-ai-labs/IRIS?color=red">
<img alt="GitHub Tag" src="https://img.shields.io/github/v/tag/Sunwood-ai-labs/IRIS?sort=semver&color=orange">
<img alt="GitHub Actions Workflow Status" src="https://img.shields.io/github/actions/workflow/status/Sunwood-ai-labs/IRIS/publish-to-pypi.yml">
<br>
  <img alt="PyPI - Version" src="https://img.shields.io/pypi/v/iris-coon">
<img alt="PyPI - Format" src="https://img.shields.io/pypi/format/iris-coon">
<img alt="PyPI - Implementation" src="https://img.shields.io/pypi/implementation/iris-coon">
<img alt="PyPI - Status" src="https://img.shields.io/pypi/status/iris-coon">
<img alt="PyPI - Downloads" src="https://img.shields.io/pypi/dd/iris-coon">
<img alt="PyPI - Downloads" src="https://img.shields.io/pypi/dw/iris-coon">
<br>
<p align="center">
  <a href="https://hamaruki.com/"><b>[🌐 Website]</b></a> •
  <a href="https://github.com/Sunwood-ai-labs"><b>[🐱 GitHub]</b></a>
  <a href="https://x.com/hAru_mAki_ch"><b>[🐦 Twitter]</b></a> •
  <a href="https://hamaruki.com/"><b>[🍀 Official Blog]</b></a>
</p>
   <br>

   <a href="https://github.com/Sunwood-ai-labs/aws-terraform-sandbox/blob/main/README.md"><img src="https://img.shields.io/badge/ドキュメント-日本語-white.svg" alt="JA doc"/></a>
   <a href="https://github.com/Sunwood-ai-labs/aws-terraform-sandbox/blob/main/docs/README.en.md"><img src="https://img.shields.io/badge/english-document-white.svg" alt="EN doc"></a>
</h2>

</p>

>[!IMPORTANT]
> This repository's release notes, README, and nearly 90% of its commit messages are generated by [AIRA](https://github.com/Sunwood-ai-labs/AIRA), [SourceSage](https://github.com/Sunwood-ai-labs/SourceSage), [Gaiah](https://github.com/Sunwood-ai-labs/Gaiah), and [HarmonAI_II](https://github.com/Sunwood-ai-labs/HarmonAI_II), leveraging tools like [claude.ai](https://claude.ai/) and [ChatGPT4](https://chatgpt.com/).

## 🌟 Introduction

I.R.I.S (Intelligent Repository Issue Solver) is an intelligent assistant designed to dramatically improve GitHub repository issue management. Leveraging machine learning and natural language processing, IRIS automates issue classification, prioritization, and solution suggestions.

This README provides detailed explanations and setup instructions, making it easy to get started even for first-time users.

## 🚀 Key Features

IRIS offers powerful features across three key automation areas:

### 1. Issue Management Automation 🏷️

- **Intelligent Automatic Labeling:**
  - AI analyzes new issue content and automatically assigns appropriate labels.
  - Utilizes advanced natural language processing models like Google Gemini AI.
  - Easily define and manage project-specific labels through CSV files.

- **Detailed Issue Analysis and Responses:**
  - Generates automated comments containing deep insights into issues.
  - Creates concrete change suggestions and supports pull request creation.

### 2. Release Management Efficiency 📦

- **Automated Release Notes Generation:**
  - Automatically creates release notes corresponding to tags upon tagging.
  - Provides concise and accurate records of project progress and changes.

### 3. Documentation Auto-Updating 📝

- **README Auto-Maintenance:**
  - Automatically reflects new release information in the README.
  - Ensures documentation remains current with the latest features and changes.

- **Multi-Language Support:**
  - Automatically generates English README (README.en.md) based on Japanese README updates.
  - Enhances international visibility and understanding of the project.

### 📊 Additional Features

- **24/7 Operation:** Continuously operates without human intervention using GitHub Actions.
- **High Customization:** Flexible adjustment of each feature to suit project characteristics.
- **Continuous Learning and Improvement:** Regularly updated AI models ensure performance consistently improves.

Integrating IRIS allows development teams to focus on core development tasks, significantly improving project management efficiency.

## 📁 Repository Structure

```bash
IRIS/
├─ .github/
│  ├─ scripts/
│  │  ├─ deep_comment.py
│  │  ├─ suggest_changes.py
│  │  ├─ label_adder.py
│  │  └─ generate_github_release_notes.py
│  ├─ workflows/
│  │  ├─ issue-deep-comment.yml
│  │  ├─ issue-review.yml
│  │  └─ generate-release-notes.yml
│  ├─ services/
│  │  └─ github_service.py
│  └─ config.py
├─ docs/
│  └─ .sourcesage_releasenotes.yml
└─ README.md
```

## 🛠️ Setup Guide

IRIS can be set up using two methods:

1. **Using the iris-coon command**

   The simplest way to set up IRIS is by using the `iris-coon` command. Installation and setup can be done with the following commands:

   ```bash
   pip install iris-coon
   iris-coon
   ```

   Running this command will copy the necessary files and folders to the current directory.

2. **Manually copying the .github folder**

   To add IRIS functionality to an existing project, the .github folder can be copied directly using these steps:

   ```bash
   git clone https://github.com/Sunwood-ai-labs/IRIS.git
   cp -r IRIS/.github /path/to/your/project/
   ```

   This method copies the IRIS .github folder and its contents into the specified project directory. If necessary, the copied files can be edited to customize them for the project.

### 🔐 GitHub Secret Configuration

To ensure IRIS functions correctly, the following GitHub secrets need to be configured. This step is necessary regardless of the setup method chosen.

#### Configuration Steps:

1. Open the "Settings" tab on the GitHub repository page.
2. Select "Secrets and variables" → "Actions" from the left-hand menu.
3. Click the "New repository secret" button.

#### Required Secrets:

| Secret Name | Description | Purpose |
|--------------|------|-----|
| `GITHUB_TOKEN` | GitHub Personal Access Token | Access rights to the repository |
| `GEMINI_API_KEY` | Google AI Studio API Key | Using AI features |
| `YOUR_PERSONAL_ACCESS_TOKEN` | GitHub Personal Access Token | Write access to the repository |
| `YOUR_PERSONAL_ACCESS_TOKEN_IRIS` | IRIS-specific Access Token | IRIS-specific operational permissions |

> [!WARNING]
> Refer to the official documentation of each service for instructions on obtaining these keys, or contact the developers for assistance if needed.

#### Important Security Considerations:

- These tokens are highly sensitive authentication credentials. Manage them securely and never include them directly in public repositories.
- It is recommended to rotate (update) tokens regularly.
- Grant each token only the minimum necessary permissions, adhering to the principle of least privilege.

### 💻 Python Library Usage

If you wish to use IRIS as a Python library, refer to the `example/demo.py` file for guidance. This demo file demonstrates how to use IRIS's key features.

For example:

```python
from iris_coon import IrisCoon

# Setting up IRIS
coon = IrisCoon(target_dir="path/to/your/project", force=True)
coon.run()
```

For detailed usage instructions and advanced configuration, refer to the `example/demo.py` file.

## 🔧 How to Use

Once IRIS is set up, the following automated features become available:

1. **Issue Management Automation:**
   - IRIS automatically activates when a new issue is created.
   - AI analyzes the issue content and proposes/applies appropriate labels.
   - Detailed comments are automatically added to the issue.
   - If needed, code change suggestions are generated.

2. **Release Management Automation:**
   - When a tag is applied, automated release notes corresponding to that tag are generated.
   - The README is automatically updated when a new release occurs.

3. **Documentation Automation:**
   - When the README is updated, an English version of the README (`README.en.md`) is automatically generated.

### 🏷️ Automatic Release Note Generation with Tags

When ready to release a new version, simply tag it as follows:

```bash
git tag v1.0.0
git push origin v1.0.0
```

This will automatically generate detailed release notes corresponding to `v1.0.0`.

### 📝 README Auto-Updating and Translation

1. Once release notes are generated, IRIS automatically updates the README to reflect new features and important changes.

2. Subsequently, based on the updated README content, an English version (`README.en.md`) is automatically generated.

### 🔄 Continuous Improvement

These automated processes offer the following advantages:

- Project documentation is always kept up-to-date.
- Development workload is significantly reduced.
- Accessibility for international users is enhanced.

Integrating IRIS enables development teams to allocate more time to core feature development, significantly improving project management efficiency.

## 🛠️ IrisCoon Command Options

The `iris-coon` command supports the following options:

| Option | Short Form | Description | Default Value |
|-----------|-------|------|-------------|
| `--target` | `-t` | Target directory for copying files | Current working directory |
| `--force` | `-f` | Force overwrite of existing files | `False` |
| `--exclude` | `-e` | List of files to exclude from copying | `["publish-to-pypi.yml"]` |

### Usage Examples:

1. Setting up IRIS with default configuration:
   ```
   iris-coon
   ```

2. Setting up IRIS in a specific directory:
   ```
   iris-coon --target /path/to/your/project
   ```

3. Setting up with forced overwrite of existing files:
   ```
   iris-coon -f
   ```

4. Setting up excluding specific files:
   ```
   iris-coon --exclude config.yml secrets.yml
   ```

5. Combining multiple options:
   ```
   iris-coon -t /path/to/project -f --exclude config.yml
   ```

> [!WARNING]
>  Be cautious when using the `--force` option, as it can overwrite existing files.

## 📝 Update History

- **[v0.6.0](https://github.com/Sunwood-ai-labs/IRIS/releases/tag/v0.6.0):** Introduction of the Iris Coon package: A new package that provides functionality to clone the IRIS repository and copy the .github folder. 
- **[v0.5.5](https://github.com/Sunwood-ai-labs/IRIS/releases/tag/v0.5.5):** Improved README auto-update process, English README update, header image update. 
- [v0.5.4](https://github.com/Sunwood-ai-labs/IRIS/releases/tag/v0.5.4): English README update, version information update in the SourceSage configuration file, removal of unnecessary README descriptions, improvement of the README auto-update function, and some code changes. 
- [v0.5.3](https://github.com/Sunwood-ai-labs/IRIS/releases/tag/v0.5.3): Added new features and improvements including README auto-update, release note creation with tagging, and English README creation.
- [v0.5.1](https://github.com/Sunwood-ai-labs/IRIS/releases/tag/v0.5.1): Improved documentation and structure for a better user experience.
- [v0.5.0](https://github.com/Sunwood-ai-labs/IRIS/releases/tag/v0.5.0): Added new features such as automatic release note generation, README auto-update, and header image generation.
- [v0.4.0](https://github.com/Sunwood-ai-labs/IRIS/releases/tag/v0.4.0): Addition of automatic release note generation (experimental feature), GitHub Service improvements.
- [v0.3.0](https://github.com/Sunwood-ai-labs/IRIS/releases/tag/v0.3.0): Addition of detailed comment generation and change suggestion functionality.
- [v0.2.0](https://github.com/Sunwood-ai-labs/IRIS/releases/tag/v0.2.0): Google Generative AI integration, improvements to the label management system, and enhanced usability.
- [v0.1.0](https://github.com/Sunwood-ai-labs/IRIS/releases/tag/v0.1.0): Implementation of automatic issue labeling functionality.

## 🔄 Workflow

The operation flow of IRIS is illustrated in the following diagram:

```mermaid
%%{init:{'theme':'base','themeVariables':{'primaryColor':'#024959','primaryTextColor':'#F2C335','primaryBorderColor':'#F2AE30','lineColor':'#A1A2A6','secondaryColor':'#593E25','tertiaryColor':'#F2C335','noteTextColor':'#024959','noteBkgColor':'#F2C335','textColor':'#024959','fontSize':'18px'}}}%%

sequenceDiagram
    participant User as 👤 User
    participant GitHub as 🐙 GitHub
    participant IRIS as 🤖 I.R.I.S
    participant AI as 🧠 AI Models
    participant Labels as 📋 Labels

    alt Issue Management Automation
        User->>GitHub: Create an issue
        GitHub->>IRIS: Trigger GitHub Action
        IRIS->>GitHub: Get issue content
        GitHub-->>IRIS: Issue details
        IRIS->>AI: Request content analysis
        AI-->>IRIS: Analysis results
        IRIS->>Labels: Match proposed labels
        Labels-->>IRIS: Valid labels
        IRIS->>GitHub: Apply validated labels
        IRIS->>AI: Request detailed comment generation
        AI-->>IRIS: Generated detailed comment
        IRIS->>GitHub: Add detailed comment
        IRIS->>AI: Request change suggestion generation
        AI-->>IRIS: Generated change suggestions
        IRIS->>GitHub: Add change suggestions
        GitHub-->>User: Issue update notification
    end

    alt Release Management Automation
        User->>GitHub: Create/push tag
        GitHub->>IRIS: Tag event notification
        IRIS->>AI: Request release note generation
        AI-->>IRIS: Generated release notes
        IRIS->>GitHub: Create release notes
        GitHub-->>User: Release notification
    end

    alt Documentation Automation
        IRIS->>AI: Request README update
        AI-->>IRIS: Updated README content
        IRIS->>GitHub: Update README
        IRIS->>AI: Request English README generation
        AI-->>IRIS: Generated English README
        IRIS->>GitHub: Add/update English README
        GitHub-->>User: Documentation update notification
    end
```

## 🧪 Development Commands (Advanced)

These commands are for those involved in developing IRIS:

Generate commit messages using AIRA:
```bash
aira --mode sourcesage commit  --config=.aira\config.dev.commit.yml --ss-model-name="gemini/gemini-1.5-pro-latest" --llm-output="llm_output.md"
```

Generate release notes using SourceSage:
```bash
sourcesage --ss-mode=DocuMind --yaml-file=docs\.sourcesage_releasenotes.yml
```

## 🤝 Contributions

Contributions to the project are welcome! You can contribute in the following ways:

1. Create an issue to report improvements or problems.
2. Suggest new features.
3. Submit a pull request to improve the code.

For first-timers, refer to the [First Contributions](https://github.com/firstcontributions/first-contributions) guide.

## 📄 License

This project is licensed under the [MIT License](LICENSE). Please review the license terms for usage, reproduction, modification, and distribution.

## 🙏 Acknowledgements

- Google - for providing Gemini AI
- GitHub - for providing Actions and the development platform
- All contributors and users

## ❓ Help and Support

If you have any questions or require support, please contact us using the following methods:

1. Create a new issue on the [GitHub Issues](https://github.com/Sunwood-ai-labs/IRIS/issues) page.
2. Use the contact form on the [official website](https://hamaruki.com/).
3. Send a direct message on [Twitter](https://x.com/hAru_mAki_ch).

Don't hesitate to contact us, even if you are a beginner. We look forward to your feedback!

```